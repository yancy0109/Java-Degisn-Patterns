## è¿­ä»£å™¨æ¨¡å¼

### ç›®çš„

æä¾›ä¸€ç§åœ¨ä¸æš´éœ²å…¶åŸºç¡€è¡¨ç¤ºçš„æƒ…å†µä¸‹é¡ºåºè®¿é—®èšåˆå¯¹è±¡çš„å…ƒç´ çš„æ–¹æ³•ã€‚

### ç»“æ„

* æŠ½è±¡èšåˆï¼ˆAggregateï¼‰è§’è‰²ï¼šå®šä¹‰å­˜å‚¨ã€æ·»åŠ ã€åˆ é™¤èšåˆå…ƒç´ ä»¥åŠåˆ›å»ºè¿­ä»£å™¨å¯¹è±¡çš„æ¥å£ã€‚

* å…·ä½“èšåˆï¼ˆConcreteAggregateï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡èšåˆç±»ï¼Œè¿”å›ä¸€ä¸ªå…·ä½“è¿­ä»£å™¨çš„å®ä¾‹ã€‚
* æŠ½è±¡è¿­ä»£å™¨ï¼ˆIteratorï¼‰è§’è‰²ï¼šå®šä¹‰è®¿é—®å’Œéå†èšåˆå…ƒç´ çš„æ¥å£ï¼Œé€šå¸¸åŒ…å« hasNext()ã€next() ç­‰æ–¹æ³•ã€‚
* å…·ä½“è¿­ä»£å™¨ï¼ˆConcretelteratorï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡è¿­ä»£å™¨æ¥å£ä¸­æ‰€å®šä¹‰çš„æ–¹æ³•ï¼Œå®Œæˆå¯¹èšåˆå¯¹è±¡çš„éå†ï¼Œè®°å½•éå†çš„å½“å‰ä½ç½®ã€‚

### å®ä¾‹
> å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå­˜æœ‰ç‰©å“çš„ç‰©å“ç®±ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªè¿­ä»£å™¨ï¼Œæ¥å¯¹ç‰©å“ç®±ä¸­çš„ç‰©å“è¿›è¡Œéå†ã€‚
#### æŠ½è±¡èšåˆ
```java
/**
 * æŠ½è±¡èšåˆè§’è‰²
 * ç‰©å“ç®±ğŸ“¦
 */

public interface ItemChest {

    public Iterator<Item> getItr();
}
```
#### å…·ä½“èšåˆ
```java
/**
 * å…·ä½“èšåˆ
 * ç™¾å®ç®±å®ç°ç±»
 */
public class ItemChestImpl implements ItemChest{
    private List<Item> items;

    protected ItemChestImpl() {
        items = new ArrayList<>();
        items.add(new Item("é­”æ³•è¯æ°´"));
        items.add(new Item("æ™ºåŠ›è¯æ°´"));
        items.add(new Item("å˜å¤§è¯æ°´"));
        items.add(new Item("å®å‰‘"));
        items.add(new Item("BAT Offer"));
    }

    @Override
    public Iterator<Item> getItr() {
        return new ItemIterator(this.items);
    }
}
```
#### æŠ½è±¡è¿­ä»£å™¨
```java
/**
 * æŠ½è±¡è¿­ä»£å™¨
 * è¿­ä»£å™¨æ¥å£
 */
public interface Iterator<T> {

    boolean hasNext();

    T next();
}
```
#### å…·ä½“è¿­ä»£å™¨
```java
/**
 * å…·ä½“è¿­ä»£å™¨
 * ç‰©å“è¿­ä»£å™¨
 */
public class ItemIterator implements Iterator<Item>{

    private List<Item> itemList;

    private int location;

    public ItemIterator(List<Item> itemList) {
        this.itemList = itemList;
        this.location = 0;
    }

    @Override
    public boolean hasNext() {
        return itemList.size() > location;
    }

    @Override
    public Item next() {
        return itemList.get(this.location++);
    }
}
```
#### æµ‹è¯•ç±»
```java
/**
 * æµ‹è¯•ç±»
 */
public class App {
    public static void main(String[] args) {
        ItemChest itemChest = new ItemChestImpl();
        Iterator<Item> itr = itemChest.getItr();
        while(itr.hasNext()) {
            Item next = itr.next();
            System.out.println(next);
        }
        // sout
        // Item(name=é­”æ³•è¯æ°´)
        // Item(name=æ™ºåŠ›è¯æ°´)
        // Item(name=å˜å¤§è¯æ°´)
        // Item(name=å®å‰‘)
        // Item(name=BAT Offer)
    }
}
```
#### æ€»ç»“
æä¾›ä¸€ä¸ªå¯¹å­˜å‚¨ä¸€å®šå¯¹è±¡å®¹å™¨çš„è¿­ä»£å™¨å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å¿½ç•¥å…¶å®¹å™¨çš„è¡¨ç¤ºå½¢å¼ï¼Œç›´æ¥å¯¹å…ƒç´ è¿›è¡Œè®¿é—®ã€‚
### ä¼˜ç¼ºç‚¹
#### ä¼˜ç‚¹
* å®ƒæ”¯æŒä»¥ä¸åŒçš„æ–¹å¼éå†ä¸€ä¸ªèšåˆå¯¹è±¡ï¼Œåœ¨åŒä¸€ä¸ªèšåˆå¯¹è±¡ä¸Šå¯ä»¥å®šä¹‰å¤šç§éå†æ–¹å¼ã€‚åœ¨è¿­ä»£å™¨æ¨¡å¼ä¸­åªéœ€è¦ç”¨ä¸€ä¸ªä¸åŒçš„è¿­ä»£å™¨æ¥æ›¿æ¢åŸæœ‰è¿­ä»£å™¨å³å¯æ”¹å˜éå†ç®—æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰è¿­ä»£å™¨çš„å­ç±»ä»¥æ”¯æŒæ–°çš„éå†æ–¹å¼ã€‚
* è¿­ä»£å™¨ç®€åŒ–äº†èšåˆç±»ã€‚ç”±äºå¼•å…¥äº†è¿­ä»£å™¨ï¼Œåœ¨åŸæœ‰çš„èšåˆå¯¹è±¡ä¸­ä¸éœ€è¦å†è‡ªè¡Œæä¾›æ•°æ®éå†ç­‰æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥ç®€åŒ–èšåˆç±»çš„è®¾è®¡ã€‚
* åœ¨è¿­ä»£å™¨æ¨¡å¼ä¸­ï¼Œç”±äºå¼•å…¥äº†æŠ½è±¡å±‚ï¼Œå¢åŠ æ–°çš„èšåˆç±»å’Œè¿­ä»£å™¨ç±»éƒ½å¾ˆæ–¹ä¾¿ï¼Œæ— é¡»ä¿®æ”¹åŸæœ‰ä»£ç ï¼Œæ»¡è¶³ â€œå¼€é—­åŸåˆ™â€ çš„è¦æ±‚ã€‚
#### ç¼ºç‚¹
* å¢åŠ äº†ç±»çš„ä¸ªæ•°ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚
### ä½¿ç”¨åœºæ™¯
* å½“éœ€è¦ä¸ºèšåˆå¯¹è±¡æä¾›å¤šç§éå†æ–¹å¼æ—¶ã€‚
* å½“éœ€è¦ä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ—¶ã€‚
* å½“è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— é¡»æš´éœ²å…¶å†…éƒ¨ç»†èŠ‚çš„è¡¨ç¤ºæ—¶ã€‚
